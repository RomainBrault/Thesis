sudo: required
language: python
dist: trusty

cache:
  apt: true

addons:
  apt:
    sources:
      - sourceline: 'ppa:jonathonf/texlive'
    packages:
      - cmake
      - texlive-full

script:
  - mkdir build
  - cd build
  - cmake ..
  - make pdf

deploy:
  provider: releases
  api_key:
    secure: "GITHUB PERSONAL ACCESS TOKEN"
  file: "build/ThesisRomainBrault.pdf"
  skip_cleanup: true
  on:
    tags: true